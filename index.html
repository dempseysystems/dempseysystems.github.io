<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dempsey Corporation - Check Your Order Status</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #333; /* soft charcoal */
            color: #FFF; /* white text */
        }

        a {
            color: #EFEFEF; /* slightly off-white for links */
        }

        .btn.btn-primary {
            background-color: #007BFF; /* adjust if needed */
            color: #FFF;
            border: none;
        }

        .btn.btn-primary:hover, .btn.btn-primary:focus {
            background-color: #0056b3; /* adjust if needed */
        }

        .form-control::placeholder {
            color: #DDD;
        }

        .form-control:focus {
            outline: none;
            box-shadow: none;
            border: 1px solid #007BFF; /* This color matches the button, adjust if needed */
        }

        /* Making error message match the theme */
        #errorMessage {
            background-color: #e57373; /* a shade of red */
            color: #FFF;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center">Dempsey Corporation</h1>
    <h3 class="text-center mb-5">Check Your Order Status<br>Vérifiez le statut de votre commande</h3>
    <div class="row justify-content-center">
        <div class="col-md-9">
            <form onsubmit="searchBL(); return false;" class="form-inline justify-content-center">
                <div class="mb-2 text-center w-100">
                    <label for="bl_input" class="d-block mb-2">Enter BL Number / Entrez le numéro de BL</label>
                </div>
                <div class="form-inline justify-content-center">
                    <input type="text" name="bl_number" id="bl_input" class="form-control mb-2 mr-2">
                    <button type="submit" class="btn btn-primary mb-2">Search / Rechercher</button>
                </div>
            </form>
        </div>
        <div id="errorMessage" class="alert alert-danger mt-3" style="display: none;"></div>
    </div>
</div>

<script>
   function searchBL() {
       let bl_number = document.getElementById("bl_input").value;
       if (bl_number) {
           window.location.href = bl_number + ".html";
       } else {
           alert('Please enter a BL Number.');
       }
   }
</script>
<script>
document.querySelector("form").addEventListener("submit", function(event){
    const blNumber = document.querySelector("[name='bl_number']").value;
    if(!blNumber) { // For now, just checking if it's empty. Add other validations as needed.
        event.preventDefault(); // Prevent form from submitting
        document.getElementById("errorMessage").textContent = "Please enter a valid BL Number.";
        document.getElementById("errorMessage").style.display = "block";
    }
});
</script>
<script>
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        const blNumber = getQueryParam('bl_number');

        if (blNumber !== null) {
            document.getElementById('bl_input').value = blNumber;
        }
    </script>

</body>
</html>
